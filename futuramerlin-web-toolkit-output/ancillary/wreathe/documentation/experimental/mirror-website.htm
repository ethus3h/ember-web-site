<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <link href="/simple.css" rel="stylesheet" type="text/css"> <meta content="Ember" name="author"> <meta content="width=device-width,height=device-height,user-scalable=yes" name="viewport"> <meta name="generator" content="Futuramerlin Web Toolkit 2.3.81"> <title>Mirror a website &mdash; Wreathe Documentation &mdash; Ember</title> </head> <body> <input class="nav-trigger" id="nav-trigger" type="checkbox"> <label for="nav-trigger">&nbsp;</label> <nav> <p class="logo"> <a class="nodecorate logolink" href="/">ember</a> </p> <ul> <li>Navigation:</li> <li class="nav-item nav-item-inactive"> <a href="/">Home</a> </li> <li class="nav-item nav-item-inactive"> <a href="/news">News</a> </li> <li class="nav-item nav-item-inactive"> <a href="/ancillary/ready-to-use.htm">Software</a> </li> <li class="nav-item nav-item-inactive"> <a href="/components.htm">Primary project components</a> </li> <li class="nav-item nav-item-inactive"> <a href="/people">People</a> </li> </ul> <a href="#">&#x1F51D;&#xFE0E;</a> </nav> <main> <h1>Mirror a website &mdash; Wreathe Documentation</h1> <p class="breadcrumbs">Page location: <span><a href="/ancillary/ready-to-use.htm">Software</a></span> <span><a href="/ancillary/wreathe/">Wreathe</a></span> <span><a href="/ancillary/wreathe/documentation/">Documentation</a></span> <span><a href="/ancillary/wreathe/documentation/useful-notes/">Useful notes</a></span> </p><nav id="toc"><h2>Table of Contents</h2> <ol><li><a href="#Grab_a_single_Web_page">Grab a single Web page</a></li> <li><a href="#Grab_a_Wikipedia_page_or_pages">Grab a Wikipedia page or pages</a></li> <li><a href="#Mirror_a_website_.28without_parent_directories.29">Mirror a website (without parent directories)</a> <ol><li><a href="#Omit_other_subdomains_.28including_www._vs._non-www..29">Omit other subdomains (including www. vs. non-www.)</a></li> </ol></li> <li><a href="#If_you_don.27t_want_to_keep_the_files_as_well_as_the_WARCs">If you don't want to keep the files as well as the WARCs</a></li> <li><a href="#Exclude_some_domains.E2.80.A6">Exclude some domains…</a></li> </ol> </nav> <p class="hatnote-emphasis-warning">This article applies to: Wreathe 7.3</p> <p class="hatnote-emphasis-warning">There have been a lot of innovations in this area since this article was written, and it may be out of date.</p> <h2 id="Grab_a_single_Web_page">Grab a single Web page</h2> <p>Note that this requires wget 1.20 or later for the <code>--retry-on-host-error</code> option.</p> <pre><code>( tempName="wget-$(date-uuid)"; mkdir "$tempName"; cd "$tempName"; wget -p --no-check-certificate --content-on-error -e robots=off --user-agent="Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0" --save-cookies=cookies.txt --load-cookies=cookies.txt --keep-session-cookies --warc-max-size=500M -E -k -K --warc-file="$tempName" --retry-on-host-error --retry-on-http-error=429,500,502,503,504 -H [url] 2>&amp;1 | tee -a "$tempName.log" )</code></pre> <h2 id="Grab_a_Wikipedia_page_or_pages">Grab a Wikipedia page or pages</h2> <pre><code>( tempName="wget-$(date-uuid)"; mkdir "$tempName"; cd "$tempName"; wget -p --no-check-certificate --content-on-error -e robots=off --user-agent="Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0" --save-cookies=cookies.txt --load-cookies=cookies.txt --keep-session-cookies --warc-max-size=500M -E -k -K --warc-file="$tempName" --retry-on-host-error --retry-on-http-error=429,500,502,503,504 -H "https://en.wikipedia.org/wiki/Special:Export?pages=PageOne%0D%0APageTwo%0D%0APageThree%0D%0A&amp;templates=1&amp;history=1" 2>&1 | tee -a "$tempName.log" )</code></pre> <h2 id="Mirror_a_website_.28without_parent_directories.29">Mirror a website (without parent directories)</h2> <pre><code>( tempName="wget-$(date-uuid)"; mkdir "$tempName"; cd "$tempName"; wget -p --no-check-certificate --content-on-error -e robots=off --user-agent="Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0" --save-cookies=cookies.txt --load-cookies=cookies.txt --keep-session-cookies --warc-max-size=500M -E -k -K --no-parent --warc-file="$tempName" --retry-on-host-error --retry-on-http-error=429,500,502,503,504 --mirror -H -D [example.com] [url] 2>&1 | tee -a "$tempName.log" )</code></pre> <h3 id="Omit_other_subdomains_.28including_www._vs._non-www..29">Omit other subdomains (including www. vs. non-www.)</h3> <pre><code>( tempName="wget-$(date-uuid)"; mkdir "$tempName"; cd "$tempName"; wget -p --no-check-certificate --content-on-error -e robots=off --user-agent="Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0" --save-cookies=cookies.txt --load-cookies=cookies.txt --keep-session-cookies --warc-max-size=500M -E -k -K --no-parent --warc-file="$tempName" --retry-on-host-error --retry-on-http-error=429,500,502,503,504 --mirror [url] 2>&amp;1 | tee -a "$tempName.log" )</code></pre> <h2 id="If_you_don.27t_want_to_keep_the_files_as_well_as_the_WARCs">If you don't want to keep the files as well as the WARCs</h2> <pre><code>--delete-after</code></pre> <h2 id="Exclude_some_domains.E2.80.A6">Exclude some domains…</h2> <pre><code>--exclude-domains example.com,example.org</code></pre> </main> </body> </html>